# クリーンアーキテクチャ

![CleanArchitecture](https://github.com/user-attachments/assets/52ff3729-547b-4036-8e0c-bb044d6d9f62)

今回作成する Todo アプリケーションは、クリーンアーキテクチャに則って製造を進めていきます。

クリーンアーキテクチャは、依存関係逆転の原則(Dependancy Inversion Principle)を使用し、機能を実現しているコアな部分をフレームワークや DB などに依存しない状態（関心事の分離）にすることで、他が変わってもコアな部分への影響をなくし、変更や拡張に強くすることができるアーキテクチャです。

最終的なディレクトリ構成は以下のようになります。

```
├── prisma/               # Prismaの設定ファイル等
│   ├── migrations/
│   ├── schema.prisma
│   └── seed.ts
├── src/
│    ├── application/      # ユースケース層
│    │   ├── auth/
│    │   └── todo/
│    ├── domain/           # ドメイン層
│    │   ├── repositories/
│    │   └── schemas/
│    ├── infrastructure    # インフラストラクチャ層
│    │   ├── prisma/
│    │   └── supabase/
│    ├── interface/        # インタフェース層
│    │   ├── middlewares/  # 共通ミドルウェア
│    │   └── routes/       # ルーティング
│    ├── types/            # 共通の型定義
│    ├── util/             # 汎用ユーティリティ
│    └── index.ts          # エントリーポイント
└── test/                  # テスト(おまけのサンプル)

```

## Domain(ドメイン層)

アプリケーションの核となるビジネスロジックやルールを定義します。

## Application(アプリケーション層)

ドメイン層を利用してユースケースを実現します。

## Infrastructure（インフラストラクチャ層）

外部サービスやフレームワークとの接続を担当します。

## Interface（インターフェース層）

アプリケーションと外部のユーザーやシステムとのやり取りを管理します。

> [!NOTE]
> クリーンアーキテクチャの詳細や思想の解説は省きますが、本コースの実装に加えて以下を参考に個別で学習をすることで、より理解を深めることができます。

[やさしいクリーンアーキテクチャ](https://zenn.dev/sre_holdings/articles/a57f088e9ca07d)

[クリーンアーキテクチャ完全に理解した](https://gist.github.com/mpppk/609d592f25cab9312654b39f1b357c60)

## 本コースでクリーンアーキテクチャを採用する理由

言語やフレームワークを学ぶために作る Todo アプリケーションで、クリーンアーキテクチャのような実装パターンを適用するのは通常不要で、記述量が大幅に増えるだけです。

しかし、実務で触れるプロジェクトは、変更や拡張に強く設計されていることが多く、触れたことのあるフレームワークやライブラリであっても、独自のディレクトリ構成で製造されていることが多くあります。

(内部向け研修資料なので)クリーンアーキテクチャのような実装パターンを採用する理由としては異なる理由になりますが、そのような場面で迷わないためのトレーニングとして採用することにしました。
